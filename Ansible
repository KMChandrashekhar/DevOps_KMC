Ansible Basic Questions with Answers

1. What is Ansible and why is it used in DevOps?
ðŸ‘‰ Ansible is an open-source IT automation tool used for configuration management, application deployment, and orchestration. It is agentless (uses SSH/WinRM), simple to use, and helps maintain consistency across servers.

2. What are the advantages of Ansible over other configuration management tools?
ðŸ‘‰ Advantages:

Agentless (no software needed on managed nodes)

Simple YAML-based playbooks (easy to read/write)

Idempotent (ensures same result regardless of repeated execution)

Scalable & lightweight compared to Puppet/Chef

3. Explain the difference between Ansible ad-hoc commands and playbooks.
ðŸ‘‰ Ad-hoc commands are one-time tasks (e.g., restart a service).
ðŸ‘‰ Playbooks are YAML files used for repeatable, structured automation with multiple tasks.

Example:

ansible all -m ping      # Ad-hoc
ansible-playbook site.yml # Playbook


4. What is an inventory file in Ansible? What are its types?
ðŸ‘‰ Inventory file lists the target hosts.

Static Inventory â†’ hosts defined in a file (/etc/ansible/hosts)

Dynamic Inventory â†’ fetched dynamically (e.g., AWS, GCP, Azure plugins)

5. What are modules in Ansible? Give examples.
ðŸ‘‰ Modules are small programs used to perform tasks.
Examples:

copy â†’ copy files

yum/apt â†’ install packages

service â†’ manage services

user â†’ manage users

6. What is the use of ansible.cfg file?
ðŸ‘‰ It defines Ansible configuration such as:

Inventory file path

SSH connection settings

Timeout values

Privilege escalation

7. Difference between command and shell module?
ðŸ‘‰ command â†’ executes command without shell features (no pipes, no redirection).
ðŸ‘‰ shell â†’ executes inside shell (supports pipes, variables, redirection).

Example:

- name: Using command
  command: cat /etc/passwd
  
- name: Using shell
  shell: cat /etc/passwd | grep root


8. What is an idempotent task in Ansible?
ðŸ‘‰ A task is idempotent if running it multiple times produces the same result without making unnecessary changes.
Example: Installing a package â†’ if already installed, no changes.

9. How do you run a playbook against a single host?
ðŸ‘‰ By specifying host in inventory or using -l flag.

ansible-playbook site.yml -l webserver1


10. What is the default port used by Ansible to connect to remote hosts?
ðŸ‘‰ Port 22 (SSH) for Linux, Port 5985/5986 (WinRM) for Windows.

Ansible Intermediate Questions with Answers

1. How does Ansible achieve agentless communication with managed nodes?
ðŸ‘‰ Ansible uses SSH for Linux/Unix and WinRM for Windows to connect to managed nodes. No agent installation is required.

2. Explain handlers in Ansible and when you use them.
ðŸ‘‰ Handlers are tasks triggered only when notified by another task.
Example: Restart service only if config file changes.

tasks:
  - name: Copy config file
    copy: src=app.conf dest=/etc/app.conf
    notify: Restart app

handlers:
  - name: Restart app
    service: name=app state=restarted


3. What are facts in Ansible? How can you use them?
ðŸ‘‰ Facts are system properties collected automatically (OS, IP, CPU, memory).
They are accessed using ansible_facts.
Example:

debug: var=ansible_facts['default_ipv4']['address']


4. How do you encrypt sensitive data in Ansible?
ðŸ‘‰ Use Ansible Vault.

ansible-vault create secrets.yml
ansible-vault encrypt file.yml
ansible-playbook site.yml --ask-vault-pass


5. Difference between roles and playbooks in Ansible?
ðŸ‘‰ Playbooks = define automation tasks in YAML.
ðŸ‘‰ Roles = structured way to organize playbooks into reusable units (tasks, handlers, variables, templates, etc.).

6. How do you use variables in Ansible? What is variable precedence?
ðŸ‘‰ Variables can be defined in inventory, playbooks, vars_files, or passed via CLI.
ðŸ‘‰ Precedence â†’ CLI vars > Playbook vars > Role vars > Inventory vars > Default vars.

7. How does Ansible Galaxy help in playbook development?
ðŸ‘‰ Ansible Galaxy is a community hub to share/download pre-built roles.
Example:

ansible-galaxy install geerlingguy.mysql


8. How do you use tags in Ansible? Why are they useful?
ðŸ‘‰ Tags allow selective execution of tasks.
Example:

- name: Install Apache
  yum: name=httpd state=present
  tags: apache


Run only apache tasks:

ansible-playbook site.yml --tags apache


9. What is the purpose of ansible-vault and how do you use it?
ðŸ‘‰ Used to encrypt secrets (passwords, API keys).
Example:

ansible-vault encrypt secrets.yml
ansible-playbook play.yml --ask-vault-pass


